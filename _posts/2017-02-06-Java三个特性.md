---
layout:     post                    # 使用的布局
title:      Java特性               # 标题 
subtitle:   封装、继承、多态 #副标题
date:       2017-02-06              # 时间
author:     candy1126xx                      # 作者
header-img: img/home-bg-o.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Java
---

## 封装
### 定义
封装就是将类的信息隐藏在类内部，不允许外部程序直接访问，而是通过该类的方法实现对隐藏信息的操作和访问。
### 实现
封装实现主要是依赖private、protected、public三个访问修饰符。

## 继承
### 定义
继承定义了类与类的从属关系。子类继承了父类所有特性，并可定义更详细的特性。这也决定了类的组织形式是**树**。
### 实现
Java只有单继承，但是可以通过**成员内部类**间接实现多继承。
#### 单继承
关键字extends。
#### 多继承
```
public class MainClass {  
    // 成员内部类1 继承自 父类1
    public class Test1 extends Class1 {  

    }  
    // 成员内部类2 继承自 父类2
    public class Test2 extends Class2 {  

    }  
    // 间接实现 从父类1继承showName()
    public String showName() {  
        return new Test1().getName();  
    }  
    // 间接实现 从父类2继承getAge()
    public int showAge() {  
        return new Test2().getAge();  
    }
} 
```

#### 静态属性和静态方法是否可以被继承？是否可以被重写？以及原因？
可以被继承，但不可被重写。
如果子类有与父类同名的静态方法、属性，叫“隐藏”。
因为静态属性和方法与类相关，在类加载阶段就已经确定了，不是动态绑定，不经过多态选择，声明是谁就是谁的属性和方法。

## 多态
### 定义
多态是指表面相同的东西，其实有不同特性。多态分为编译时多态和运行时多态。
编译时多态是静态的，主要是指方法的重载，即在一个类里面，方法名字相同，而参数不同，返回类型可以相同也可以不同。它是根据参数列表的不同来区分不同的方法。
运行时多态是动态的，主要是指方法的重写，即子类对父类的允许访问的方法的实现过程进行重新编写, 返回值和形参都不能改变。重写使子类可以根据需要，定义特定于自己的行为。
### 实现
抽象类(abstract)、接口(interface)、继承(extends)、实现(implements)都可以算是多态的实现基础。
#### 抽象类和接口的区别
* 抽象类除了不能实例化对象之外，其它功能依然存在。
* 接口没有构造方法，所有的方法必须是抽象方法，不能包含成员变量，除了**static**和**final**变量。
* 一个类只能继承一个抽象类，而一个类却可以实现多个接口。

#### 动态绑定(多态选择)
程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在程序运行期间才能决定。因为在程序运行时才确定具体的类，这样，不用修改源程序代码，就可以让引用变量绑定到各种不同的类实现上，从而导致该引用调用的具体方法随之改变，即不修改程序代码就可以改变程序运行时所绑定的具体代码，让程序可以选择多个运行状态。当使用多态方式调用方法时，不是“引用变量的类型”决定调用谁的方法，而是“实例对象的类型”决定。
首先检查父类中是否有该方法，如果没有，则编译错误；如果有，再去检查子类的同名方法，如果有则调用子类方法，否则调用父类的方法。

##其他
### 内部类
#### 定义
在Java中，可以将一个类定义在另一个类里面或者一个方法里面，这样的类称为内部类。广泛意义上的内部类一般来说包括这四种：成员内部类、局部内部类、匿名内部类和静态内部类。
成员内部类中隐式地持有外部类的引用，因此可以访问外部类的成员变量。
局部内部类、匿名内部类在引用外部变量时，必须将外部变量声明为final。这是Java闭包的手段。所谓闭包，就是把变量和方法包起来，使他们的生命周期一致，防止外部变量被释放后，内部类还在运行，引起错误。它的实现是将外部变量复制一份到内部类中。
静态内部类相当于独立的类，就算外部类没有载入也可访问内部类，内部类不持有外部类的引用，也不能访问外部类的非静态成员。写成内部类只是为了简化包深度，或是起到注释的作用。

#### 作用
* 更好的封装性。
* 借助成员内部类可以间接地实现多重继承，使Java的继承机制更加完善。


